<script>
  Vue.component('v-select', VueSelect.VueSelect)

  let app = new Vue({
    el: '.vue_app',
    data: <%= fill_vue_data(@project,
     {
      f_gt: true,
      texts: "gtype new_gtype",
      lists: "gtypes new_gtypes",
      project_g_types: [],
      goods: @goods
     }) %>,
    methods:{
      g_href(g){
        return "/project_goods/" + g.id + "/edit?owner_id="+ g.goodstype_id
      },
      g_del_ref(g){
        return "/project_goods/" + g.id 
      },
      add_gt(){
        if (this.new_gtype!==null){
          this.goods[this.new_gtype.value] = []
          this.gtypes.push(this.new_gtype)
          this.new_gtypes.splice(this.new_gtypes.indexOf(this.new_gtype),1)          
          this.new_gtype = null 
        }
      }
    }
    })

</script>